<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>BMD-200 EVAL Board Demo: ble_bmdeval.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Rigado Logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">BMD-200 EVAL Board Demo
   </div>
   <div id="projectbrief">A demonstration of the Rigado BMD-200 Eval Board&#39;s Features</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ble_bmdeval.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>ble_bmdEval service module header file.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &quot;ble.h&quot;</code><br />
<code>#include &quot;ble_srv_common.h&quot;</code><br />
</div>
<p><a href="ble__bmdeval_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structble__bmdeval__rgb__t.html">ble_bmdeval_rgb_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct to contain the LED RGB values. Values are formatted as standard 3 byte hexadecimal RGB representations.  <a href="structble__bmdeval__rgb__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structaccel__data__t.html">accel_data_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct to contain the accelerometer XYZ values.  <a href="structaccel__data__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structble__bmdeval__init__t.html">ble_bmdeval_init_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">BMD EVAL service handler initialization structure.  <a href="structble__bmdeval__init__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structble__bmdeval__s.html">ble_bmdeval_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">BMD EVAL Service structure. This contains various status information for the service.  <a href="structble__bmdeval__s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga8c24c4e5727b17797520ce2ddea63b51"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__bmdeval__uuid.html#ga8c24c4e5727b17797520ce2ddea63b51">BMDEVAL_UUID_BASE</a>&#160;&#160;&#160;{0x23, 0xD1, 0xBC, 0xEA, 0x5F, 0x78, 0x23, 0x15, 0xDE, 0xEF, 0x12, 0x12, 0x00, 0x00, 0x00, 0x00}</td></tr>
<tr class="separator:ga8c24c4e5727b17797520ce2ddea63b51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga66256e3f3543eaf2ddfd5d0abc8afe28"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__bmdeval__uuid.html#ga66256e3f3543eaf2ddfd5d0abc8afe28">BMDEVAL_UUID_SERVICE</a>&#160;&#160;&#160;0x1523</td></tr>
<tr class="separator:ga66256e3f3543eaf2ddfd5d0abc8afe28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9db9289f13a965f08d889db0ba342139"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__bmdeval__uuid.html#ga9db9289f13a965f08d889db0ba342139">BMDEVAL_UUID_BUTTON_CHAR</a>&#160;&#160;&#160;0x1524</td></tr>
<tr class="separator:ga9db9289f13a965f08d889db0ba342139"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga99461add844cd890adfd74e15ef42e81"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__bmdeval__uuid.html#ga99461add844cd890adfd74e15ef42e81">BMDEVAL_UUID_LED_CHAR</a>&#160;&#160;&#160;0x1525</td></tr>
<tr class="separator:ga99461add844cd890adfd74e15ef42e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga93c3197d7dafad72df18c87f683e275e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__bmdeval__uuid.html#ga93c3197d7dafad72df18c87f683e275e">BMDEVAL_UUID_ADC_CHAR</a>&#160;&#160;&#160;0x1526</td></tr>
<tr class="separator:ga93c3197d7dafad72df18c87f683e275e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf64a8133021d6a4a2a4e88382896da0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__bmdeval__uuid.html#gaaf64a8133021d6a4a2a4e88382896da0">BMDEVAL_UUID_CTRL_CHAR</a>&#160;&#160;&#160;0x1527</td></tr>
<tr class="separator:gaaf64a8133021d6a4a2a4e88382896da0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga506131310da0ca9c2e10439aaa98b92e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__bmdeval__uuid.html#ga506131310da0ca9c2e10439aaa98b92e">BMDEVAL_UUID_ACCEL_CHAR</a>&#160;&#160;&#160;0x1528</td></tr>
<tr class="separator:ga506131310da0ca9c2e10439aaa98b92e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga1f64361d9f4fb3b17ae47ff7077db971"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga1f64361d9f4fb3b17ae47ff7077db971"></a>
typedef struct <a class="el" href="structble__bmdeval__s.html">ble_bmdeval_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cust__service.html#ga1f64361d9f4fb3b17ae47ff7077db971">ble_bmdeval_t</a></td></tr>
<tr class="memdesc:ga1f64361d9f4fb3b17ae47ff7077db971"><td class="mdescLeft">&#160;</td><td class="mdescRight">BMD EVAL Service structure. This contains various status information for the service. <br /></td></tr>
<tr class="separator:ga1f64361d9f4fb3b17ae47ff7077db971"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga76e8c7fa46a380f17e3dd93b463c5b89"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga76e8c7fa46a380f17e3dd93b463c5b89"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><b>ble_bmdeval_led_write_handler_t</b>) (<a class="el" href="group__cust__service.html#ga1f64361d9f4fb3b17ae47ff7077db971">ble_bmdeval_t</a> *p_bmdeval, <a class="el" href="structble__bmdeval__rgb__t.html">ble_bmdeval_rgb_t</a> *write_data)</td></tr>
<tr class="separator:ga76e8c7fa46a380f17e3dd93b463c5b89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga839db1bcad67f85f33af220d3cab7c54"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga839db1bcad67f85f33af220d3cab7c54"></a>
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><b>ble_bmdeval_ctrl_write_handler_t</b>) (<a class="el" href="group__cust__service.html#ga1f64361d9f4fb3b17ae47ff7077db971">ble_bmdeval_t</a> *p_bmdeval, uint8_t write_data)</td></tr>
<tr class="separator:ga839db1bcad67f85f33af220d3cab7c54"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga0bb2ce53eac99a5b7df51d9802788c84"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cust__service.html#ga0bb2ce53eac99a5b7df51d9802788c84">ble_bmdeval_init</a> (<a class="el" href="group__cust__service.html#ga1f64361d9f4fb3b17ae47ff7077db971">ble_bmdeval_t</a> *p_bmdeval, const <a class="el" href="structble__bmdeval__init__t.html">ble_bmdeval_init_t</a> *p_bmdeval_init)</td></tr>
<tr class="memdesc:ga0bb2ce53eac99a5b7df51d9802788c84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for initializing the BMD Eval Service.  <a href="group__cust__service.html#ga0bb2ce53eac99a5b7df51d9802788c84">More...</a><br /></td></tr>
<tr class="separator:ga0bb2ce53eac99a5b7df51d9802788c84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b7b9aa65184f422bafef5b562571395"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cust__service.html#ga1b7b9aa65184f422bafef5b562571395">ble_bmdeval_on_ble_evt</a> (<a class="el" href="group__cust__service.html#ga1f64361d9f4fb3b17ae47ff7077db971">ble_bmdeval_t</a> *p_bmdeval, ble_evt_t *p_ble_evt)</td></tr>
<tr class="memdesc:ga1b7b9aa65184f422bafef5b562571395"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for handling the Application's BLE Stack events.  <a href="group__cust__service.html#ga1b7b9aa65184f422bafef5b562571395">More...</a><br /></td></tr>
<tr class="separator:ga1b7b9aa65184f422bafef5b562571395"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4cd241ee89477140ed859fff5553eaea"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cust__service.html#ga4cd241ee89477140ed859fff5553eaea">ble_bmdeval_on_button_change</a> (<a class="el" href="group__cust__service.html#ga1f64361d9f4fb3b17ae47ff7077db971">ble_bmdeval_t</a> *p_bmdeval, uint8_t button_state)</td></tr>
<tr class="memdesc:ga4cd241ee89477140ed859fff5553eaea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for sending a button state notification.  <a href="group__cust__service.html#ga4cd241ee89477140ed859fff5553eaea">More...</a><br /></td></tr>
<tr class="separator:ga4cd241ee89477140ed859fff5553eaea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4e0b097e674270c0b203725dafd358b9"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cust__service.html#ga4e0b097e674270c0b203725dafd358b9">ble_bmdeval_on_adc_change</a> (<a class="el" href="group__cust__service.html#ga1f64361d9f4fb3b17ae47ff7077db971">ble_bmdeval_t</a> *p_bmdeval, uint8_t adc_value)</td></tr>
<tr class="memdesc:ga4e0b097e674270c0b203725dafd358b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for sending an ADC value change notification.  <a href="group__cust__service.html#ga4e0b097e674270c0b203725dafd358b9">More...</a><br /></td></tr>
<tr class="separator:ga4e0b097e674270c0b203725dafd358b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa15369db459d7b545b4b1b91df45558"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cust__service.html#gaaa15369db459d7b545b4b1b91df45558">ble_bmdeval_on_accel_change</a> (<a class="el" href="group__cust__service.html#ga1f64361d9f4fb3b17ae47ff7077db971">ble_bmdeval_t</a> *p_bmdeval, <a class="el" href="structaccel__data__t.html">accel_data_t</a> accel_value)</td></tr>
<tr class="memdesc:gaaa15369db459d7b545b4b1b91df45558"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for sending an accelerometer value change notification.  <a href="group__cust__service.html#gaaa15369db459d7b545b4b1b91df45558">More...</a><br /></td></tr>
<tr class="separator:gaaa15369db459d7b545b4b1b91df45558"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>ble_bmdEval service module header file. </p>
<p>The ble_bmdEval service contains the BLE characteristics required to drive the features of the BMD-200 Eval Board. </p>
<p>The characteristics are as follows. </p><ul>
<li>
General use control point characteristic (Read, Write, Notify)  </li>
<li>
Button status indicator characteristic (Read, Notify) </li>
<li>
RGB LED control characteristic (Read, Write, Notify)  </li>
<li>
Analog-to-digital converter reading characteristic (Read, Notify)  </li>
<li>
Accelerometer reading characteristic (Read, Notify)  </li>
</ul>
<h1><a class="anchor" id="ctrl_pt"></a>
Control Point</h1>
<p>The control point characteristic is used to control various elements of the BMD-200 Eval board. The control point characteristic consists of a single command byte. Controling the board can be achieved by writing one of the commands listed below to the characteristic. </p><ul>
<li>
0x00 : Debug_Reserved. Not currently implemented </li>
<li>
0x01 : ADC_Stream_Start. Begins ADC streaming. Resulting value is written to the ADC characteristic. </li>
<li>
0x02 : ADC_Stream_Stop. Stops ADC streaming. Resulting value is written to the ADC characteristic. </li>
<li>
0x03 : Deactivate_LEDs. Turns off and deinitializes LEDs. </li>
<li>
0x04 : Accel_Transient_Start. Starts vibration detection interrupt mode on accelerometer. Resulting values are written to the Accel characteristic. Will continue streaming data in this mode until reconfigured or ACCEL_STOP is received. </li>
<li>
0x05 : Acel_Pulse_Start. Starts pulse interrupt mode on accelerometer. Resulting values are written to the Accel characteristic. Will continue streaming data in this mode until reconfigured or ACCEL_STOP is received. </li>
<li>
0x06 : Accel_Stream_Start. Starts auto streaming of Acclerometer. Resulting values are written to the Accel characteristic. Will continue streaming data in this mode until reconfigured or ACCEL_STOP is received. </li>
<li>
0x07 : Accel_Motion_Start. Starts motion detect interrupt mode on accelerometer. Resulting values are written to the Accel characteristic. Will continue streaming data in this mode until reconfigured or ACCEL_STOP is received. </li>
<li>
0x08 : Accel_Orientation_Start. Starts orientation detect interrupt mode on accelerometer. Resulting values are written to the Accel characteristic. Will continue streaming data in this mode until reconfigured or ACCEL_STOP is received. </li>
<li>
0x09 : Accel_Stop. Stops the Acceleromerter data streaming. </li>
</ul>
<p>Note: This command scheme remains consistant across all examples that use this characteristic. Non-applicable commands will be omitted. </p>
<h1><a class="anchor" id="button"></a>
Button Characteristic</h1>
<p>The button characteristic updates itself to reflect the current state of the buttons. The lower nibble represents the state of the first button while the upper nibble represents the state of the second button. (1 = pressed, 0 = not pressed) </p>
<h1><a class="anchor" id="rgb_led"></a>
RGB Characteristic</h1>
<p>The RGB LED characteristic consists of a 3 byte RGB hexidecimal datatype similar to standard RGB color representations. (Ordering: Red-Byte, Green-Byte, Blue-Byte) </p>
<h1><a class="anchor" id="adc_char"></a>
ADC Characteristic</h1>
<p>The ADC characteristic consists of a single byte that notifies on updates. When ADC data is updated, it is displayed here. </p>
<h1><a class="anchor" id="accel_char"></a>
Accelerometer Characteristic</h1>
<p>The Accelerometer characteristic consists of four bytes. The lowest byte contains a mode indicator byte. The value in this byte matches the corresponding accelerometer mode in the control point characteristic. The upper three bytes contain the 8-bit XYZ data while in data streaming mode. While in other modes, the upper byte is the contents of the corresponding status registers for the current mode. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jun 25 2015 15:41:27 for BMD-200 EVAL Board Demo by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
